<html>
  <head>
    <title>booth_design</title>
    <meta name="description" content="Dev Example — Networked-Aframe" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta charset="UTF-8" />
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js"></script>
    <script src="/build.js"></script>
    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
    <script src="/js/spawn-in-circle.component.js"></script>
    <script src="./js/aframe/get-format-date.js"></script>
    <script src="/honnban/js/aframe/heart-hover.js"></script>
    <script src="/honnban/js/aframe/sakuhin-hover.js"></script>
    <script>
      AFRAME.registerComponent('on-click', {
        init: function () {
          var self = this;
          this.el.addEventListener('click', function (evt) {
            var num = 0;
            var sum = 0;
            var likeNumEl = document.querySelector('#number-of-like');
            var likesEl = document.querySelector('#like');
            var whiteLikesEl = document.querySelector('#white-like');
            if (whiteLikesEl.getAttribute('visible') === true) {
              num = parseInt(likeNumEl.getAttribute('value'));
              sum = num + 1;
              whiteLikesEl.setAttribute('visible', false);
              likesEl.setAttribute('visible', true);
              likeNumEl.setAttribute('value', sum);
            }
          });
        },
      });
    </script>
  </head>
  <body>
    <a-scene
      renderer="colorManagement: true"
      cursor="rayOrigin: mouse"
      raycaster="objects: a-gltf-model"
      ><a-assets timeout="200000">
        <!-- 空_ASSET -->
        <img id="sky" src="/honnban/assets/img/vr_background.jpg" />
        <!-- ブース_ASSET -->
        <a-asset-item
          id="booth"
          src="/honnban/assets/model/booth/scene.gltf"
        ></a-asset-item>
        <!-- 出口_ASSET -->
        <a-asset-item
          id="exit"
          src="/honnban/assets/model/exit_door/scene.gltf"
        ></a-asset-item>
        <!-- 出展者 -->
        <a-asset-item
          id="npc1"
          src="/honnban/assets/model/scarlet_macaw/scene.gltf"
        ></a-asset-item>
        <!-- 来場者 -->
        <a-asset-item
          id="person"
          src="/honnban/assets/model/person_small/scene.gltf"
        ></a-asset-item>
        <!-- ギャラリー_ASSET -->
        <img id="white" src="/honnban/assets/img/white.jfif" />
        <img id="slide1" src="/honnban/assets/img/slide1.jpg" />
        <img id="slide2" src="/honnban/assets/img/slide2.jpg" />
        <img id="slide3" src="/honnban/assets/img/slide3.jpg" />
        <img id="gallery2" src="/honnban/assets/img/dog.jpg" />
        <img id="gallery3" src="/honnban/assets/img/dog2.jpg" />
        <img id="gallery4" src="/honnban/assets/img/bloodhound.png" />
        <img id="gallery5" src="/honnban/assets/img/aa.jpg" />
        <!-- デモ動画_ASSET -->
        <img id="play" src="/honnban/assets/img/play.png" />
        <video
          id="demo"
          src="/honnban/assets/movie/demo1.mp4"
          autoplay
          loop="true"
          playsinline=""
          webkit-playsinline=""
          crossorigin="anonymous"
        ></video>
        <!-- 作品サンプル -->
        <a-asset-item
          id="sakuhin"
          src="/honnban/assets/model/sakuhin_example/scene.gltf"
        ></a-asset-item>
        <!-- いいね_ASSET -->
        <a-asset-item
          id="likes"
          src="/honnban/assets/model/beating_heart/scene.gltf"
        ></a-asset-item>
        <!-- 白いいね_ASSET -->
        <a-asset-item
          id="white-likes"
          src="/honnban/assets/model/white_heart_model/scene.gltf"
        ></a-asset-item>
        <!-- circle -->
        <a-asset-item
          id="circle"
          src="/honnban/assets/model/rotating_circle/scene.gltf"
        ></a-asset-item>
      </a-assets>

      <!-- 空 -->
      <a-sky src="#sky"></a-sky>
      <!-- ロビー -->
      <a-gltf-model src="#booth"></a-gltf-model>
      <!-- 出口 -->
      <a-gltf-model
        id="exit"
        src="#exit"
        scale="0.25 0.25 0.25"
        rotation="0 144.9084748399219 0"
        position="-3.52115 0.37144 5.35451"
      ></a-gltf-model>
      <!-- カメラ（視点） -->
      <a-entity
        camera=""
        position="0 1.5 0"
        wasd-controls=""
        rotation="0 -120 0"
        look-controls=""
        aframe-injected=""
        data-aframe-inspector-original-camera=""
      ></a-entity>
      <!-- 出展者キャラクター -->
      <a-gltf-model
        id="npc1"
        src="#npc1"
        scale="0.0015 0.002 0.002"
        position="-3 2 -4.1"
        rotation="0 50 0"
      ></a-gltf-model>
      <!-- 来場者character -->
      <a-gltf-model
        id="person"
        src="#person"
        scale="0.2 0.2 0.2"
        rotation="180 90 180"
        position="0 0 -1.3"
      ></a-gltf-model>
      <a-gltf-model
        id="person"
        src="#person"
        scale="0.2 0.2 0.2"
        rotation="180 90 180"
        position="0 0 1.3"
      ></a-gltf-model>
      <a-gltf-model
        id="person"
        src="#person"
        scale="0.2 0.2 0.2"
        rotation="180 90 180"
        position="0 0 1.7"
      ></a-gltf-model>
      <a-gltf-model
        id="person"
        src="#person"
        scale="0.2 0.2 0.2"
        rotation="0 -3.075637444262259 0"
        position="-0.39308 0.35 3.58408"
        gltf-model="/honnban/assets/model/person_small/scene.gltf"
      ></a-gltf-model>
      <a-gltf-model
        id="person"
        src="#person"
        scale="0.2 0.2 0.2"
        rotation="180 90 180"
        position="2.5 0.3 1.7"
      ></a-gltf-model>
      <a-gltf-model
        id="person"
        src="#person"
        scale="0.2 0.2 0.2"
        rotation="180 90 180"
        position="2.5 0.3 1.3"
        gltf-model="/honnban/assets/model/person_small/scene.gltf"
      ></a-gltf-model>
      <!-- ギャラリー_作品概要 -->
      <a-image
        id="white"
        src="#white"
        geometry="primitive: box"
        scale="0.8 1 0.2"
        position="-0.22305 1.23617 -4.61989"
        material=""
      ></a-image>
      <a-image
        id="thumbnail"
        src="#sky"
        scale="0.2 0.25 1"
        position="-0.23734 1.33798 -4.51752"
        material=""
        geometry=""
      ></a-image>
      <a-entity
        id="title"
        text="value: TitleTitle; align: center; color: #153093; lineHeight: 3; letterSpacing: 5; negate: false"
        color="#000000"
        scale="3 3 1"
        position="-0.21761 1.61438 -4.45262"
      ></a-entity>
      <a-entity
        id="description"
        text="value: Description; align: center; color: #424242; lineHeight: 0.4"
        color="#000000"
        scale="2 2 1"
        position="-0.23672 1.09887 -4.45262"
      ></a-entity>
      <!-- ギャラリー_作品紹介 -->
      <a-image
        id="slide1"
        src="#slide1"
        material=""
        geometry="primitive: box"
        scale="0.8 1 0.2"
        position="3.08606 1.23617 -3.09248"
        rotation="0 -47.63 0"
      ></a-image>
      <a-image
        id="slide2"
        src="#slide2"
        material=""
        geometry="primitive: box"
        scale="0.8 1 0.2"
        position="4.38366 1.23617 0.24475"
        rotation="0 88.45 0"
      ></a-image>
      <a-image
        id="slide3"
        src="#slide3"
        material=""
        geometry="primitive: box"
        scale="0.8 1 0.2"
        position="2.87774 1.24431 3.38673"
        rotation="0 44.73 0"
      ></a-image>
      <a-image
        id="gallery5"
        src="#gallery5"
        material=""
        geometry="primitive: box"
        scale="0.8 1 0.2"
        position="-0.34878 1.23617 4.69281"
      ></a-image>
      <!-- デモ動画のTOPのタイトル -->
      <a-entity
        id="title"
        text="value: TitleTitle; align: center; color: #ffffff; lineHeight: 3; letterSpacing: 5; negate: false"
        color="#000000"
        scale="10 10 1"
        position="-3.59467 3.50902 0.01258"
        rotation="0 90 0"
      ></a-entity>
      <!-- デモ動画 -->
      <!-- <a-curvedimage
        id="demo"
        src="#demo"
        material="height: 258"
        geometry="thetaLength: 88; thetaStart: 1"
        scale="2.15 2.84331 2.15"
        position="0.37378 1.72916 0.08129"
        rotation="0 -135.63056926336847 0"
      ></a-curvedimage> -->
      <!-- <a-video
        id="demo"
        src="#demo"
        geometry="primitive: box"
        position="-3.02088 1.81518 0.01"
        width="5"
        height="3"
        scale="1 1 0.3"
        rotation="0 90 0"
      ></a-video> -->
      <a-entity
        id="demo"
        material="shader: flat; side: double; src: #demo"
        geometry="primitive: cylinder; radius: 5; height: 3.682; openEnded: true; thetaStart: 142.5; thetaLength: 75"
        position="1.36603 1.5 0.12454"
        rotation="0 90 0"
        scale="-1 1 1"
      ></a-entity>
      <!-- 作品 -->
      <a-gltf-model
        sakuhin-hover
        id="i-sakuhin"
        src="#sakuhin"
        scale="0.3 0.3 0.3"
        position="-0.283 0.63654 0"
      ></a-gltf-model>
      <!-- 現在日時を表示 -->
      <a-text
        id="now-time"
        value="aaaa"
        negate="false"
        color="#000000"
        scale="2.97348 2.93727 15"
        position="-0.25845 3.402 4.047"
        rotation="0 158.21 0"
      ></a-text>
      <!-- 白いいねモデル -->
      <a-gltf-model
        like-on-click
        heart-hover
        id="white-like"
        src="#white-likes"
        scale="0.015 0.015 0.015"
        rotation="0 57.756 0"
        position="-2.952 0.436 -2.682"
      ></a-gltf-model>
      <!-- いいねモデル -->
      <a-entity
        id="like"
        gltf-model="#likes"
        scale="0.17932 0.20506 0.2375"
        rotation="0 57.74612434005515 0"
        position="-2.90927 0.41615 -2.68227"
        visible="false"
      ></a-entity>
      <!-- いいね数 -->
      <a-text
        id="number-of-like"
        value="1"
        color="#000000"
        scale="2.79 2.81 3.334"
        position="-2.944 0.479 -2.829"
        rotation="0 65.289 0"
        text="width: 3;"
      ></a-text>
    </a-scene>
  </body>
</html>
